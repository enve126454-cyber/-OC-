<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Keyboard | 3D Visualizer</title>
    <style>
        /* ================= ç»§æ‰¿é¦–é¡µçš„æ ¸å¿ƒ DNA ================= */
        :root { --bg-color: #050505; --text-main: #f0f0f0; --text-muted: #888888; --accent: #ffffff; --card-bg: #111111; --font-main: 'Helvetica Neue', Inter, sans-serif; --font-zh: 'PingFang SC', 'Microsoft YaHei', sans-serif; --brand-blue: #3b82f6; } 
        * { margin: 0; padding: 0; box-sizing: border-box; } 
        body { background-color: var(--bg-color); color: var(--text-main); font-family: var(--font-main); overflow-x: hidden; -webkit-font-smoothing: antialiased; } 
        a { text-decoration: none; color: inherit; } 
        
        /* é¡¶éƒ¨è¿”å›æŒ‰é’® */
        .back-nav { position: fixed; top: 40px; left: 5%; z-index: 100; display: flex; align-items: center; gap: 10px; color: #fff; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; opacity: 0.7; transition: all 0.3s ease; mix-blend-mode: difference; }
        .back-nav:hover { opacity: 1; transform: translateX(-5px); }

        /* ================= 1ï¼šå·¨å¹•çŸ­ç‰‡ ================= */
        .hero-video-section { position: relative; width: 100vw; height: 100vh; overflow: hidden; background: #000; }
        .hero-video { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); min-width: 100%; min-height: 100%; object-fit: cover; opacity: 0.6; }
        .hero-title-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; width: 100%; }
        .h-subtitle { font-size: 1rem; color: var(--brand-blue); letter-spacing: 4px; text-transform: uppercase; margin-bottom: 20px; }
        .h-title { font-size: 5rem; font-weight: 700; line-height: 1; text-transform: uppercase; letter-spacing: -2px; }
        
        .scroll-down-hint { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); color: var(--text-muted); font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase; display: flex; flex-direction: column; align-items: center; gap: 10px; animation: float 2s infinite ease-in-out; }
        @keyframes float { 0% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, 10px); } 100% { transform: translate(-50%, 0); } }

        /* ================= 2ï¼šé¡¹ç›®ç®€è¿° ================= */
        .project-brief { padding: 180px 10%; max-width: 1600px; margin: 0 auto; display: grid; grid-template-columns: 1fr 2fr; gap: 80px; align-items: start; }
        .brief-meta { display: flex; flex-direction: column; gap: 30px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; }
        .meta-item h4 { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
        .meta-item p { font-size: 1.1rem; color: #fff; font-weight: 500; }
        .brief-text { font-size: 1.5rem; line-height: 1.8; color: #ccc; font-weight: 300; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; text-align: justify; }

        /* ================= 3/4ï¼šç»Ÿä¸€æ¸²æŸ“å›¾ & æ»‘åŠ¨è§£æå¤åˆæ¨¡å— ================= */
        .unified-gallery { padding: 0 5% 150px; max-width: 1400px; margin: 0 auto; display: flex; flex-direction: column; gap: 60px; }
        
        .interactive-card { 
            position: relative; width: 100%; background: #111; border-radius: 8px; overflow: hidden; 
            cursor: zoom-in; /* é»˜è®¤æ”¾å¤§é•œæŒ‡é’ˆ */
            user-select: none; 
            touch-action: pan-y; /* å…è®¸é¡µé¢ä¸Šä¸‹æ»šåŠ¨ï¼Œé˜²æ­¢è§¦æ‘¸å†²çª */
            transition: box-shadow 0.4s ease;
        }
        
        /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ï¼Œå‡è®¾ä¸º 16:9ï¼Œè‹¥ä½ çš„å›¾ä¸æ˜¯16:9ï¼Œå¯åˆ é™¤ aspect-ratio è®©å›¾ç‰‡è‡ªé€‚åº”é«˜åº¦ */
        .interactive-card { aspect-ratio: 16 / 9; } 

        /* æ‚¬æµ®äº’åŠ¨æ•ˆæœï¼šå¾®å¾®æäº®ï¼Œå¢åŠ ç§‘æŠ€æ„Ÿè¾¹æ¡† */
        .interactive-card:hover { box-shadow: 0 10px 40px rgba(0,0,0,0.8), 0 0 0 1px rgba(255,255,255,0.1); filter: brightness(1.05); }

        .slider-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        .bottom-layer { z-index: 1; }
        
        /* é¡¶å±‚ç™½æ¨¡åŒºåŸŸ */
        .top-layer-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; overflow: hidden; transition: width 0.8s cubic-bezier(0.25, 1, 0.5, 1); }
        .top-layer-wrapper.dragging { transition: none; } /* æ‹–æ‹½æ—¶å–æ¶ˆè¿‡æ¸¡ï¼Œå®ç°è·Ÿæ‰‹ */
        .top-layer { width: 100vw; max-width: 1400px; /* å®½åº¦ç”±JSç²¾ç¡®åŒæ­¥ */ }

        /* ä¸­é—´æ»‘åŠ¨æ‹‰æ† */
        .slider-handle { position: absolute; top: 0; bottom: 0; left: 100%; width: 2px; background: rgba(255,255,255,0.3); z-index: 3; transform: translateX(-50%); transition: left 0.8s cubic-bezier(0.25, 1, 0.5, 1), background 0.3s; display: flex; align-items: center; justify-content: center; }
        .slider-handle.dragging { transition: none; background: rgba(255,255,255,0.8); }
        .slider-btn { width: 44px; height: 44px; border-radius: 50%; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.5); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1.2rem; font-weight: bold; box-shadow: 0 0 15px rgba(0,0,0,0.8); transition: transform 0.2s; }
        .interactive-card:hover .slider-btn { transform: scale(1.1); border-color: #fff; }

        /* ================= ç¯ç®± (Lightbox) ================= */
        #lightbox { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); z-index: 9999; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; cursor: zoom-out; backdrop-filter: blur(5px); }
        #lightbox.active { opacity: 1; pointer-events: auto; }
        #lightbox img { max-width: 90vw; max-height: 90vh; object-fit: contain; box-shadow: 0 20px 60px rgba(0,0,0,0.8); transform: scale(0.95); transition: transform 0.3s ease; }
        #lightbox.active img { transform: scale(1); }

        /* ================= åº•éƒ¨å¼•æµè·³è½¬ ================= */
        .next-project-banner { position: relative; width: 100vw; height: 70vh; display: block; overflow: hidden; border-top: 1px solid #222; }
        .next-bg { position: absolute; inset: -20px; background: url('https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E6%89%8B%E6%9C%BA/%E6%89%8B%E6%9C%BA%E9%BB%91%E7%99%BD_cm0.png') center/cover; filter: brightness(0.2) blur(10px); transition: filter 0.6s ease, transform 0.6s ease; }
        .next-project-banner:hover .next-bg { filter: brightness(0.6) blur(0px); transform: scale(1.02); }
        .next-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; transition: transform 0.4s ease; }
        .next-project-banner:hover .next-content { transform: translate(-50%, -50%) scale(1.05); }
        .next-label { font-size: 1rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 3px; margin-bottom: 15px; }
        .next-title { font-size: 4rem; color: #fff; font-weight: bold; text-shadow: 0 10px 30px rgba(0,0,0,0.8); }
        .next-title span { color: var(--brand-blue); }

        /* ================= é¡µè„š ================= */
        footer { padding: 80px 5% 40px; background: #000; display: flex; flex-direction: column; gap: 60px; }
        .footer-cta { background: linear-gradient(160deg, #1a1a1a, #0a0a0a); border: 1px solid rgba(255,255,255,0.05); border-radius: 20px; padding: 60px 20px; text-align: center; }
        .footer-cta h2 { font-size: 2.5rem; color: #fff; margin-bottom: 20px; }
        .footer-cta p { font-size: 1.1rem; color: var(--text-muted); max-width: 600px; margin: 0 auto; }
        .footer-contact-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .footer-card { background: #0a0a0a; border: 1px solid rgba(255,255,255,0.05); border-radius: 16px; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; transition: all 0.3s; }
        .footer-card:hover { transform: translateY(-5px); border-color: rgba(255,255,255,0.2); }
        .f-icon { font-size: 24px; color: var(--brand-blue); margin-bottom: 15px; } 
        .f-title { font-size: 1rem; color: #fff; font-weight: bold; margin-bottom: 10px; }
        .f-content { font-size: 1rem; color: var(--brand-blue); } 
        .f-content.text { color: var(--text-muted); }
        .footer-bottom-bar { display: flex; justify-content: space-between; align-items: center; padding-top: 30px; border-top: 1px solid #1a1a1a; color: var(--text-muted); font-size: 0.9rem; }
        .brand-area h3 { color: #fff; margin-bottom: 5px; font-size: 1.2rem; }
        .brand-area h3 span { color: var(--brand-blue); }

        @media (max-width: 768px) {
            .h-title { font-size: 3rem; }
            .project-brief { grid-template-columns: 1fr; gap: 40px; padding: 100px 5%; }
            .next-title { font-size: 2.5rem; }
            .footer-contact-grid { grid-template-columns: 1fr; }
            .footer-bottom-bar { flex-direction: column; gap: 20px; align-items: flex-start; }
            .interactive-card { aspect-ratio: 4/3; } /* ç§»åŠ¨ç«¯é«˜åº¦å¯ç¨å¾®ç´§å‡‘ */
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-nav"><span class="arrow">â†</span> Back</a>

    <!-- 1. å·¨å¹•çŸ­ç‰‡ -->
    <section class="hero-video-section">
        <video class="hero-video" autoplay loop muted playsinline poster="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E9%94%AE%E7%9B%98extra5.png">
            <source src="https://cdn.pixabay.com/video/2020/05/11/38747-420087799_large.mp4" type="video/mp4">
        </video>
        <div class="hero-title-container">
            <div class="h-subtitle">Project 01</div>
            <h1 class="h-title">Logitech Wireless <br>Keyboard</h1>
        </div>
        <div class="scroll-down-hint">Scroll to explore<br>â†“</div>
    </section>

    <!-- 2. é¡¹ç›®ç®€è¿° -->
    <section class="project-brief">
        <div class="brief-meta">
            <div class="meta-item"><h4>Role / Discipline</h4><p>3D Visualization, Lookdev</p></div>
            <div class="meta-item"><h4>Software</h4><p>Cinema 4D, Octane Render</p></div>
            <div class="meta-item"><h4>Year</h4><p>2024</p></div>
        </div>
        <div class="brief-text">
            åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘è¯•å›¾æ¢ç´¢å¤æ‚æè´¨çš„æŠ˜å°„ä¸é˜³ææ°§åŒ–é“é‡‘å±çš„é«˜å…‰è¡¨ç°ã€‚èµ›åšæœºæ¢°é”®ç›˜ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¡¬è¡¨é¢å»ºæ¨¡çš„ç»ƒä¹ ï¼Œå®ƒæ›´æ˜¯å…³äºå¦‚ä½•åœ¨ ACEScg ä¸¥è‹›çš„è‰²å½©ç©ºé—´ä¸‹ï¼Œæ§åˆ¶å¾®è§‚å…‰å½±ä¸ç¯å¢ƒåå°„çš„å¹³è¡¡ã€‚é€šè¿‡æ‹–æ‹½ä¸‹æ–¹æ¸²æŸ“å›¾ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹åº•å±‚çš„ç™½æ¨¡å¸ƒçº¿ç»“æ„ï¼›å•å‡»å›¾ç‰‡å³å¯æŸ¥çœ‹é«˜æ¸…ç»†èŠ‚ã€‚
        </div>
    </section>

    <!-- 3. æ­£ç‰‡æ¸²æŸ“å›¾ & ç™½æ¨¡æ»‘åŠ¨è§£æ (7å¼ ä¸€ä½“åŒ–å¡ç‰‡) -->
    <section class="unified-gallery">
        
        <!-- å¡ç‰‡ 1 -->
        <div class="interactive-card">
            <!-- é»˜è®¤å±•ç¤ºåº•å›¾ï¼šæˆå“æ¸²æŸ“å›¾ -->
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/logi_Main_0002.png" class="slider-img bottom-layer" alt="æˆå“ 1">
            <!-- éšè—çš„é¡¶å±‚ï¼šç™½æ¨¡å›¾ (å®½åº¦é»˜è®¤ä¸º 100%ï¼Œå³å®Œå…¨ç›–ä½ã€‚ç”± JS æ§åˆ¶æ‹‰å¼€) -->
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/ComfyUI_00178_.png" class="slider-img top-layer" alt="ç™½æ¨¡ 1">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 2 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E7%99%BD%E8%89%B2%E9%94%AE%E7%9B%98%E6%9F%94%E5%85%892.png" class="slider-img bottom-layer" alt="æˆå“ 2">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/%E7%99%BD%E8%89%B2%E9%94%AE%E7%9B%98.png" class="slider-img top-layer" alt="ç™½æ¨¡ 2">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 3 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E9%94%AE%E7%9B%98extra3-1.png" class="slider-img bottom-layer" alt="æˆå“ 3">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/ComfyUI_00180_.png" class="slider-img top-layer" alt="ç™½æ¨¡ 3">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 4 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/logi2_DeMain_0001.png" class="slider-img bottom-layer" alt="æˆå“ 4">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/ComfyUI_00177_.png" class="slider-img top-layer" alt="ç™½æ¨¡ 4">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 5 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E9%94%AE%E7%9B%98extra1-1.png" class="slider-img bottom-layer" alt="æˆå“ 5">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/%E7%99%BD%E8%86%9C.png" class="slider-img top-layer" alt="ç™½æ¨¡ 5">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 6 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E9%94%AE%E7%9B%98extra4-2.png" class="slider-img bottom-layer" alt="æˆå“ 6">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/ComfyUI_00181_.png" class="slider-img top-layer" alt="ç™½æ¨¡ 6">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

        <!-- å¡ç‰‡ 7 -->
        <div class="interactive-card">
            <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98/%E9%94%AE%E7%9B%98extra5.png" class="slider-img bottom-layer" alt="æˆå“ 7">
            <div class="top-layer-wrapper">
                <img src="https://oc-1394029799.cos.ap-guangzhou.myqcloud.com/%E9%94%AE%E7%9B%98%E7%99%BD%E8%86%9C/%E6%AD%A3%E7%A1%AE%E5%B0%BA%E5%AF%B8/%E9%94%AE%E7%9B%9812.png" class="slider-img top-layer" alt="ç™½æ¨¡ 7">
            </div>
            <div class="slider-handle"><div class="slider-btn">â†”</div></div>
        </div>

    </section>

    <!-- ç¯ç®± DOM -->
    <div id="lightbox">
        <img id="lightbox-img" src="" alt="Enlarged Detail">
    </div>

    <!-- åº•éƒ¨å¼•æµ -->
    <a href="smartphone-concept.html" class="next-project-banner">
        <div class="next-bg"></div>
        <div class="next-content">
            <div class="next-label">Next Case</div>
            <div class="next-title">æ™ºèƒ½æ‰‹æœºæ¦‚å¿µè§†è§‰ <span>â†’</span></div>
        </div>
    </a>

    <!-- é¡µè„š -->
    <footer>
        <div class="footer-cta">
            <h2>è®©æˆ‘ä»¬å…±åˆ›ç²¾å½©</h2>
            <p>æˆ‘å§‹ç»ˆä¹äºè®¨è®ºæ–°é¡¹ç›®ã€åˆ›æ„æƒ³æ³•æˆ–å‚ä¸æ‚¨æ„¿æ™¯çš„æœºä¼šã€‚</p>
        </div>
        <div class="footer-contact-grid">
            <div class="footer-card"><div class="f-icon">âœ‰ï¸</div><div class="f-title">é‚®ç®±</div><a href="mailto:1195821502@qq.com" class="f-content">1195821502@qq.com</a></div>
            <div class="footer-card"><div class="f-icon">ğŸ“</div><div class="f-title">ä½ç½®</div><div class="f-content text">å¹¿ä¸œ å¹¿å·</div></div>
            <div class="footer-card"><div class="f-icon">ğŸ“</div><div class="f-title">ç”µè¯</div><a href="tel:1997847683" class="f-content">1997847683</a></div>
        </div>
        <div class="footer-bottom-bar">
            <div class="brand-area"><h3>3D <span>è§†ç•Œ</span></h3><div>Â© 2025 3Dè§†ç•Œã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</div></div>
        </div>
    </footer>

    <script>
        // ================= ç¯ç®±å…¨å±€é€»è¾‘ =================
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        function openLightbox(imgSrc) {
            lightboxImg.src = imgSrc;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        lightbox.addEventListener('click', () => {
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                lightbox.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // ================= æ™ºèƒ½å¤åˆäº¤äº’ç»„ä»¶ (æ»‘åŠ¨+ç‚¹å‡»åˆ¤å®š) =================
        const interactiveCards = document.querySelectorAll('.interactive-card');

        interactiveCards.forEach(card => {
            const wrapper = card.querySelector('.top-layer-wrapper');
            const handle = card.querySelector('.slider-handle');
            const topImage = card.querySelector('.top-layer');
            const finalRenderSrc = card.querySelector('.bottom-layer').src; // å–æˆå“å›¾ä½œä¸ºæ”¾å¤§å›¾

            let isDown = false;
            let isDragging = false;
            let startX = 0, startY = 0;

            // ä¿æŒç™½æ¨¡å±‚å®½åº¦ä¸å¤–æ¡†ç»å¯¹ä¸€è‡´ï¼Œé˜²æ­¢æ‹–æ‹½æ—¶å›¾ç‰‡å˜å½¢
            function syncWidth() { topImage.style.width = card.offsetWidth + 'px'; }
            window.addEventListener('resize', syncWidth);
            syncWidth(); // åˆå§‹åŒ–å¯¹é½

            // é¼ æ ‡/è§¦æ‘¸æŒ‰ä¸‹çš„ç¬é—´
            const downEvent = (e) => {
                isDown = true;
                isDragging = false; // é‡ç½®æ‹–æ‹½çŠ¶æ€
                startX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                startY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
            };

            // é¼ æ ‡/è§¦æ‘¸æŠ¬èµ·çš„ç¬é—´
            const upEvent = (e) => {
                if (!isDown) return;
                isDown = false;
                wrapper.classList.remove('dragging');
                handle.classList.remove('dragging');

                // æ ¸å¿ƒåˆ¤å®šï¼šå¦‚æœé¼ æ ‡æŒ‰ä¸‹åˆ°æŠ¬èµ·æ²¡æœ‰äº§ç”Ÿæ˜æ˜¾ä½ç§»ï¼Œåˆ™æ˜¯â€œç‚¹å‡»â€ï¼
                if (!isDragging) {
                    openLightbox(finalRenderSrc);
                }
            };

            // é¼ æ ‡/è§¦æ‘¸ç§»åŠ¨è¿‡ç¨‹
            const moveEvent = (e) => {
                if (!isDown) return;
                
                let clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                let clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
                
                // å®¹å·®åˆ¤å®šï¼šç§»åŠ¨è¶…è¿‡ 5 åƒç´ ï¼Œåˆ¤å®šä¸ºâ€œæ­£åœ¨æ‹–æ‹½æ»‘åŠ¨æ¡â€
                if (Math.abs(clientX - startX) > 5 || Math.abs(clientY - startY) > 5) {
                    isDragging = true;
                    wrapper.classList.add('dragging');
                    handle.classList.add('dragging');
                }

                // æ‰§è¡Œæ‹–æ‹½æ¸²æŸ“é€»è¾‘
                if (isDragging) {
                    let rect = card.getBoundingClientRect();
                    let x = clientX - rect.left;
                    
                    if (x < 0) x = 0;
                    if (x > rect.width) x = rect.width;
                    
                    let percent = (x / rect.width) * 100;
                    wrapper.style.width = percent + '%';
                    handle.style.left = percent + '%';
                }
            };

            // ç»‘å®šäº‹ä»¶
            card.addEventListener('mousedown', downEvent);
            card.addEventListener('touchstart', downEvent, { passive: true });
            
            window.addEventListener('mouseup', upEvent);
            window.addEventListener('touchend', upEvent);
            
            window.addEventListener('mousemove', moveEvent);
            window.addEventListener('touchmove', moveEvent, { passive: true });
        });

        // ================= é«˜é˜¶äº¤äº’ï¼šæ»šåŠ¨è‡ªåŠ¨å±•ç° =================
        // å½“å¡ç‰‡è¿›å…¥è§†é‡æ—¶ï¼Œæ»‘åŠ¨æ¡è‡ªåŠ¨ä» 100% æ”¶ç¼©åˆ° 5%ï¼Œæ¼å‡ºç™½æ¨¡è¾¹ç¼˜ï¼Œæš—ç¤ºç”¨æˆ·è¿™é‡Œå¯ä»¥æ‹‰åŠ¨
        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const card = entry.target;
                    const wrapper = card.querySelector('.top-layer-wrapper');
                    const handle = card.querySelector('.slider-handle');
                    
                    // å»¶è¿Ÿè§¦å‘ï¼Œé”™å¼€æ¯å¼ å›¾çš„åŠ¨ç”»ï¼Œè§†è§‰æ›´èˆ’é€‚
                    setTimeout(() => {
                        wrapper.style.width = '15%';  // éœ²å‡º 15% çš„ç™½æ¨¡
                        handle.style.left = '15%';
                    }, 300);

                    // è§¦å‘ä¸€æ¬¡åå–æ¶ˆç›‘å¬
                    obs.unobserve(card);
                }
            });
        }, { threshold: 0.5 }); // éœ²å‡º 50% çš„æ—¶å€™è§¦å‘

        interactiveCards.forEach(card => {
            // åˆå§‹åŒ–çŠ¶æ€ï¼šå®Œå…¨è¦†ç›–ä¸ºæˆå“å›¾
            const wrapper = card.querySelector('.top-layer-wrapper');
            const handle = card.querySelector('.slider-handle');
            wrapper.style.width = '100%';
            handle.style.left = '100%';
            observer.observe(card);
        });

    </script>
</body>
</html>
